# Production Environment Variables
# Copy this file to .env.production and fill in the actual values

# ===========================================
# Application Configuration
# ===========================================

NODE_ENV=production
PORT=3000
LOG_LEVEL=info

# ===========================================
# Database Configuration
# ===========================================

# PostgreSQL Database
POSTGRES_DB=nivaran
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_postgres_password_here
DATABASE_URL=postgres://postgres:your_secure_postgres_password_here@postgres:5432/nivaran

# Connection Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_ACQUIRE_TIMEOUT=60000

# ===========================================
# Supabase Configuration
# ===========================================

SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_KEY=your_supabase_service_key_here

# ===========================================
# Redis Configuration
# ===========================================

REDIS_URL=redis://:your_redis_password_here@redis:6379
REDIS_PASSWORD=your_secure_redis_password_here

# ===========================================
# Authentication & Security
# ===========================================

JWT_SECRET=your_very_secure_jwt_secret_here_minimum_64_characters_long
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Session Configuration
SESSION_SECRET=your_very_secure_session_secret_here_minimum_64_characters_long
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true

# ===========================================
# API Keys & External Services
# ===========================================

# OpenAI API (for AI features)
OPENAI_API_KEY=your_openai_api_key_here

# Hugging Face (for AI models)
HUGGING_FACE_TOKEN=your_hugging_face_token_here

# Google Maps API (for geocoding)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here

# Cloudinary (for image storage)
CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud_name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# SendGrid (for email notifications)
SENDGRID_API_KEY=your_sendgrid_api_key_here
FROM_EMAIL=noreply@nivaran.app

# ===========================================
# File Storage
# ===========================================

UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,image/gif

# ===========================================
# Rate Limiting
# ===========================================

RATE_LIMIT_GLOBAL=100
RATE_LIMIT_API=60
RATE_LIMIT_AUTH=10
RATE_LIMIT_WINDOW=900000

# ===========================================
# CORS Configuration
# ===========================================

CORS_ORIGIN=https://nivaran.app,https://www.nivaran.app
CORS_CREDENTIALS=true

# ===========================================
# AI Service Configuration
# ===========================================

AI_SERVICE_URL=http://ai-service:8000
AI_ENV=production
AI_WORKERS=4
AI_MAX_REQUESTS_PER_MINUTE=100

# ===========================================
# Monitoring & Analytics
# ===========================================

# Application Insights
APPLICATION_INSIGHTS_INSTRUMENTATION_KEY=your_app_insights_key_here

# Sentry (Error Tracking)
SENTRY_DSN=your_sentry_dsn_here

# Google Analytics
GA_TRACKING_ID=your_ga_tracking_id_here

# ===========================================
# SSL/TLS Configuration
# ===========================================

HTTPS_ENABLED=true
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/private.key

# ===========================================
# Admin Configuration
# ===========================================

# pgAdmin
PGADMIN_EMAIL=admin@nivaran.app
PGADMIN_PASSWORD=your_secure_pgadmin_password_here

# Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_secure_grafana_password_here

# ===========================================
# Notification Services
# ===========================================

# Slack Notifications
SLACK_WEBHOOK_URL=your_slack_webhook_url_here
SLACK_CHANNEL=#deployments

# Discord Notifications (optional)
DISCORD_WEBHOOK_URL=your_discord_webhook_url_here

# ===========================================
# Backup Configuration
# ===========================================

# AWS S3 (for backup storage)
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=us-east-1
S3_BUCKET=nivaran-backups

# Backup retention
BACKUP_RETENTION_DAYS=30

# ===========================================
# Feature Flags
# ===========================================

FEATURE_AI_ANALYSIS=true
FEATURE_REWARDS_SYSTEM=true
FEATURE_SOCIAL_LOGIN=true
FEATURE_PUSH_NOTIFICATIONS=true
FEATURE_ADMIN_DASHBOARD=true

# ===========================================
# Performance Configuration
# ===========================================

CACHE_TTL=3600
REQUEST_TIMEOUT=30000
MAX_CONCURRENT_REQUESTS=1000

# ===========================================
# Security Headers
# ===========================================

HSTS_MAX_AGE=31536000
CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self' wss: https:;

# ===========================================
# API Documentation
# ===========================================

API_DOCS_ENABLED=true
API_DOCS_PATH=/docs
API_URL=https://api.nivaran.app

# ===========================================
# Frontend Configuration
# ===========================================

NEXT_PUBLIC_API_URL=https://api.nivaran.app
NEXT_PUBLIC_APP_URL=https://nivaran.app
NEXT_PUBLIC_WS_URL=wss://api.nivaran.app
NEXT_PUBLIC_GOOGLE_MAPS_KEY=your_google_maps_api_key_here

# ===========================================
# Health Check Configuration
# ===========================================

HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3